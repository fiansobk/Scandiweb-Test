{"ast":null,"code":"export default function fetchData() {\n  let method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'GET';\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let url = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'http://localhost/scandiweb-endpoints/endpoint';\n  const param = {\n    method: method,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  };\n\n  if (method !== 'GET') {\n    param.body = JSON.stringify(data);\n  }\n\n  const response = fetch(url, param).then(response => {\n    if (!response.ok) throw Error('connection fail.');\n    return response.json();\n  }).then(res => {\n    return {\n      success: true,\n      data: res\n    };\n  }).catch(err => {\n    return {\n      success: false,\n      err\n    };\n  });\n  return response;\n}","map":{"version":3,"sources":["C:/Users/KIMEDIAS/Desktop/Dev/scandi/src/hooks/fetchData.js"],"names":["fetchData","method","data","url","param","headers","body","JSON","stringify","response","fetch","then","ok","Error","json","res","success","catch","err"],"mappings":"AAAA,eAAe,SAASA,SAAT,GAAwG;AAAA,MAApFC,MAAoF,uEAA3E,KAA2E;AAAA,MAAnEC,IAAmE,uEAA5D,EAA4D;AAAA,MAAvDC,GAAuD,uEAAjD,+CAAiD;AAEnH,QAAMC,KAAK,GAAG;AACVH,IAAAA,MAAM,EAAGA,MADC;AAEVI,IAAAA,OAAO,EAAG;AACN,gBAAW,kBADL;AAEN,sBAAiB;AAFX;AAFA,GAAd;;AAOA,MAAIJ,MAAM,KAAK,KAAf,EAAsB;AAClBG,IAAAA,KAAK,CAACE,IAAN,GAAaC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAb;AACH;;AACD,QAAMO,QAAQ,GAAGC,KAAK,CAAEP,GAAF,EAAQC,KAAR,CAAL,CAChBO,IADgB,CACTF,QAAD,IAAc;AACjB,QAAI,CAACA,QAAQ,CAACG,EAAd,EACI,MAAMC,KAAK,CAAC,kBAAD,CAAX;AACJ,WAAOJ,QAAQ,CAACK,IAAT,EAAP;AACH,GALgB,EAMhBH,IANgB,CAMTI,GAAD,IAAS;AACZ,WAAO;AAAEC,MAAAA,OAAO,EAAG,IAAZ;AAAmBd,MAAAA,IAAI,EAAGa;AAA1B,KAAP;AACH,GARgB,EAShBE,KATgB,CASRC,GAAD,IAAS;AACb,WAAO;AAAEF,MAAAA,OAAO,EAAG,KAAZ;AAAoBE,MAAAA;AAApB,KAAP;AACH,GAXgB,CAAjB;AAaA,SAAOT,QAAP;AAEH","sourcesContent":["export default function fetchData (method = 'GET' , data = {} , url = 'http://localhost/scandiweb-endpoints/endpoint') {\r\n\r\n    const param = {\r\n        method : method,\r\n        headers : {\r\n            'Accept' : 'application/json',\r\n            'Content-Type' : 'application/json'\r\n        },\r\n    };\r\n    if (method !== 'GET') {\r\n        param.body = JSON.stringify(data) ;\r\n    }\r\n    const response = fetch( url , param )\r\n    .then( (response) => {\r\n        if (!response.ok)\r\n            throw Error('connection fail.');\r\n        return response.json();\r\n    })\r\n    .then( (res) => {\r\n        return { success : true , data : res };\r\n    })\r\n    .catch( (err) => {\r\n        return { success : false , err  };\r\n    })\r\n    \r\n    return response ;\r\n\r\n}"]},"metadata":{},"sourceType":"module"}