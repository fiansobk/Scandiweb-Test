{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KIMEDIAS\\\\Desktop\\\\Dev\\\\scandi\\\\src\\\\screens\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport '../styles/products.scss';\nimport { Link } from 'react-router-dom';\nimport fetchData from '../hooks/fetchData';\nimport ProductBox from '../components/ProductBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Products() {\n  _s();\n\n  const [dataLoaded, setDataLoaded] = useState(false);\n  const [productList, setProductList] = useState([]);\n  const [error, setError] = useState(false);\n  const [idList, setIdList] = useState([]);\n\n  const massDelete = () => {\n    if (idList.length) {\n      fetchData('POST', idList, 'delete').then(() => {\n        setProductList(productList.filter(product => !idList.includes(product.id)));\n      });\n    } else {\n      document.querySelectorAll('input[type=checkbox]:checked').forEach(checkbox => {\n        idList.push(checkbox.getAttribute('id'));\n        setIdList(idList);\n      });\n    }\n  };\n\n  const lBtn = () => /*#__PURE__*/_jsxDEV(Link, {\n    to: \"/addproduct\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      children: \"ADD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }, this);\n\n  const rBtn = () => /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: massDelete,\n    children: \"MASS DELETE\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n\n  useEffect(() => {\n    fetchData().then(response => {\n      if (response.success) {\n        setProductList(response.data);\n        setDataLoaded(true);\n      } else {\n        setError(true);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"p-container\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"Product List\",\n      leftBtn: lBtn,\n      rightBtn: rBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-body\",\n      children: dataLoaded ? productList.length ? productList.map(product => /*#__PURE__*/_jsxDEV(ProductBox, {\n        data: product,\n        idList: idList,\n        setIdList: setIdList\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"p-message\",\n        children: \"No data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-message\",\n        children: \"Oops, something went wrong.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-message\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Products, \"ZyAF3Bim/+RjXhhcICNPzXw5en0=\");\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["C:/Users/KIMEDIAS/Desktop/Dev/scandi/src/screens/Products.js"],"names":["React","useEffect","useState","Footer","Header","Link","fetchData","ProductBox","Products","dataLoaded","setDataLoaded","productList","setProductList","error","setError","idList","setIdList","massDelete","length","then","filter","product","includes","id","document","querySelectorAll","forEach","checkbox","push","getAttribute","lBtn","rBtn","response","success","data","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Footer from '../components/Footer'\r\nimport Header from '../components/Header'\r\nimport '../styles/products.scss'\r\nimport { Link } from 'react-router-dom';\r\nimport fetchData from '../hooks/fetchData';\r\nimport ProductBox from '../components/ProductBox';\r\n\r\nfunction Products() {\r\n\r\n    const [dataLoaded, setDataLoaded] = useState(false);\r\n\r\n    const [productList, setProductList] = useState([]);\r\n\r\n    const [error, setError] = useState(false);\r\n\r\n    const [idList, setIdList] = useState([]);\r\n\r\n  \r\n  const massDelete = () => {\r\n      if (idList.length) {\r\n          fetchData('POST' , idList , 'delete' ).then(() => {\r\n              setProductList(productList.filter( product => !idList.includes(product.id)))\r\n          })\r\n      }\r\n      else {\r\n          document.querySelectorAll('input[type=checkbox]:checked').forEach(checkbox => {\r\n            idList.push(checkbox.getAttribute('id'));\r\n            setIdList(idList);\r\n          })\r\n      }\r\n  }\r\n\r\n  const lBtn = () => (\r\n      <Link to='/addproduct'>\r\n          <button className=\"btn btn-primary\">ADD</button>\r\n      </Link>\r\n  )\r\n\r\n  const rBtn = () => (\r\n        <button className=\"btn btn-danger\" onClick={massDelete}>MASS DELETE</button>\r\n  )\r\n\r\n  useEffect(() => {\r\n    fetchData().then(response => {\r\n        if (response.success) {\r\n            setProductList(response.data)\r\n            setDataLoaded(true);\r\n        }\r\n        else {\r\n            setError(true)\r\n        }\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <section className='p-container'>\r\n        <Header title = 'Product List' leftBtn = {lBtn} rightBtn = {rBtn}  />\r\n        <div className=\"p-body\">\r\n            {\r\n                dataLoaded ? \r\n                productList.length ? productList.map( product => (\r\n                    <ProductBox data = { product } key = { product.id } idList = { idList }  setIdList = { setIdList }/>\r\n                )) :\r\n                <p className='p-message'>No data</p> : error ? \r\n                <div className=\"p-message\">Oops, something went wrong.</div> :\r\n                <div className=\"p-message\">Loading...</div> \r\n            }\r\n           \r\n        </div>\r\n        <Footer />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Products"]},"metadata":{},"sourceType":"module"}